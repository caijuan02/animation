<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <style>
        *{
            padding: 0;
            margin: 0;
        }
        body{
            height: 2000px;
        }
        img{
            /*width: 500px;*/
            margin-top: 1000px;
            border: 1px solid pink;
        }
    </style>
</head>
<body>
<img src="img/7.jpg" _src="img/l46.jpg" alt=""/>

<script>
    window.onload = function(){
        var oImg = document.getElementsByTagName("img")[0];
        //获取图片距顶部的距离
        var offsetT = oImg.offsetTop;
        var oTarget = offsetT + oImg.offsetHeight /2;
        var loadingSrc = "img/loading.jpg";
        window.onscroll = function(){
            //获取可视区高度和滚动高度
            var scrollT = document.documentElement.scrollTop || document.body.scrollTop;
            var clientH = document.documentElement.clientHeight || document.body.clientHeight;
            //判断是否到达目标位置
            if(scrollT + clientH >= oTarget){
                if(!oImg.flag){
                    //先显示loading图片
                    oImg.src = loadingSrc;
                    oImg.src = oImg.getAttribute("_src");
                    oImg.flag = true;
                }
            }
        }
    }
</script>
</body>
</html>